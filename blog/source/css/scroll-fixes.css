/* Scroll Performance & Stability Fixes */

/* 1. Prevent layout shift when scrollbar appears/disappears */
html {
  scrollbar-gutter: stable;
}

body {
  scrollbar-gutter: stable;
}

/* 2. GPU acceleration for wave animation */
.waves {
  will-change: transform;
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

.waves use {
  will-change: transform;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* 3. Sidebar affix stability */
#sidebar.affix {
  z-index: 10;
}

#sidebar .panels {
  min-height: calc(100vh - 100px);
  overflow-y: auto;
}

/* 4. Footer & widget min-heights to prevent jitter */
#footer {
  min-height: 120px;
}

#footer .widgets {
  min-height: 60px;
}

#footer .status {
  min-height: 40px;
}

/* 5. Keep document scrolling on body (do not change scroll container)
   The theme JS relies on window scrolling; changing body to non-scroll
   causes affix/scroll handlers to misbehave. */

/* Leave default overflow for html/body and avoid moving scroll to <main>. */

/* 6. Meta theme-color updates should be atomic */
@supports (color: var(--theme)) {
  :root {
    --transition-none: all 0s linear;
  }
}
